/*! Copyright 2025 Adobe
All Rights Reserved. */
const d={requestQuote:!1,editQuote:!1,deleteQuote:!1,checkoutQuote:!1},_={authenticated:!1,permissions:d},p=new Proxy(_,{get:(a,t)=>a[t],set:(a,t,n)=>(a[t]=n,!0)});function g(a){var t,n,i;return{uid:a.uid,name:a.name,createdAt:a.created_at,updatedAt:a.updated_at,expirationDate:a.expiration_date,status:a.status,salesRepName:a.sales_rep_name,buyer:{firstname:a.buyer.firstname,lastname:a.buyer.lastname},templateName:a.template_name,comments:(t=a.comments)==null?void 0:t.map(e=>({uid:e.uid,createdAt:e.created_at,author:{firstname:e.author.firstname,lastname:e.author.lastname}})),prices:a.prices&&{subtotalExcludingTax:a.prices.subtotal_excluding_tax&&{value:a.prices.subtotal_excluding_tax.value,currency:a.prices.subtotal_excluding_tax.currency},subtotalIncludingTax:a.prices.subtotal_including_tax&&{value:a.prices.subtotal_including_tax.value,currency:a.prices.subtotal_including_tax.currency},subtotalWithDiscountExcludingTax:a.prices.subtotal_with_discount_excluding_tax&&{value:a.prices.subtotal_with_discount_excluding_tax.value,currency:a.prices.subtotal_with_discount_excluding_tax.currency},appliedTaxes:(n=a.prices.applied_taxes)==null?void 0:n.map(e=>({amount:{value:e.amount.value,currency:e.amount.currency},label:e.label})),grandTotal:a.prices.grand_total&&{value:a.prices.grand_total.value,currency:a.prices.grand_total.currency}},items:((i=a.items)==null?void 0:i.map(e=>{var s,l,u,o;return{product:{uid:e.product.uid,sku:e.product.sku,name:e.product.name},catalogDiscount:{amountOff:e.prices.catalog_discount.amount_off,percentOff:e.prices.catalog_discount.percent_off},discounts:((l=(s=e.prices)==null?void 0:s.discounts)==null?void 0:l.map(r=>({label:r.label,value:r.value,amount:{value:r.amount.value,currency:r.amount.currency}})))??[],stockStatus:e.product.stock_status,quantity:e.quantity,prices:{originalItemPrice:{value:e.prices.original_item_price.value,currency:e.prices.original_item_price.currency},rowTotal:{value:e.prices.row_total.value,currency:e.prices.row_total.currency}},configurableOptions:(u=e.configurable_options)==null?void 0:u.map(r=>({optionLabel:r.option_label,valueLabel:r.value_label})),bundleOptions:(o=e.bundle_options)==null?void 0:o.map(r=>({label:r.label,values:r.values.map(c=>({label:c.label,quantity:c.quantity,originalPrice:{value:c.original_price.value,currency:c.original_price.currency},price:{value:c.priceV2.value,currency:c.priceV2.currency}}))}))}}))||[],canCheckout:["UPDATED","DECLINED"].includes(a.status)&&p.permissions.checkoutQuote,canSendForReview:["SUBMITTED","DRAFT","UPDATED","DECLINED","EXPIRED"].includes(a.status)&&p.permissions.editQuote}}function b(a){return a?g(a):null}function f(a){return{uid:a.uid,name:a.name,createdAt:a.created_at,updatedAt:a.updated_at,status:a.status,buyer:{firstname:a.buyer.firstname,lastname:a.buyer.lastname},templateName:a.template_name,prices:{grandTotal:{value:a.prices.grand_total.value,currency:a.prices.grand_total.currency}}}}function y(a){var i;if(!a)return null;const t={items:((i=a.items)==null?void 0:i.filter(e=>e==null?void 0:e.uid).map(f))||[],pageInfo:{currentPage:a.page_info.current_page,pageSize:a.page_info.page_size,totalPages:a.page_info.total_pages},totalCount:a.total_count,sortFields:a.sort_fields?{default:a.sort_fields.default,options:a.sort_fields.options}:void 0},n=m(t);return{...t,paginationInfo:n||void 0}}function m(a){if(!(a!=null&&a.pageInfo)||!a.totalCount)return null;const{currentPage:t,pageSize:n,totalPages:i}=a.pageInfo,{totalCount:e}=a,s=e>0?(t-1)*n+1:0,l=Math.min(t*n,e);return{currentPage:t,totalCount:e,pageSize:n,startItem:s,endItem:l,totalPages:i,pageSizeOptions:[20,30,50,100,200]}}const v=()=>[20,30,50,100,200];export{d as D,y as a,v as g,p as s,b as t};
//# sourceMappingURL=transform-quote.js.map
