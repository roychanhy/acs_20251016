/*! Copyright 2025 Adobe
All Rights Reserved. */
const u={requestQuote:!1,editQuote:!1,deleteQuote:!1},c={authenticated:!1,permissions:u},p=new Proxy(c,{get:(t,a)=>t[a],set:(t,a,n)=>(t[a]=n,!0)});function s(t){var a,n;return{uid:t.uid,name:t.name,createdAt:t.created_at,updatedAt:t.updated_at,status:t.status,buyer:{firstname:t.buyer.firstname,lastname:t.buyer.lastname},templateName:t.template_name,comments:(a=t.comments)==null?void 0:a.map(e=>{const r={uid:e.uid,createdAt:e.created_at,author:{firstname:e.author.firstname,lastname:e.author.lastname}};return Array.isArray(e.attachments)&&e.attachments.length>0&&(r.attachments=e.attachments.map(i=>({name:i.name,url:i.url}))),r}),prices:t.prices&&{subtotalExcludingTax:t.prices.subtotal_excluding_tax&&{value:t.prices.subtotal_excluding_tax.value},subtotalIncludingTax:t.prices.subtotal_including_tax&&{value:t.prices.subtotal_including_tax.value},subtotalWithDiscountExcludingTax:t.prices.subtotal_with_discount_excluding_tax&&{value:t.prices.subtotal_with_discount_excluding_tax.value},grandTotal:t.prices.grand_total&&{value:t.prices.grand_total.value,currency:t.prices.grand_total.currency}},items:(n=t.items)==null?void 0:n.map(e=>({product:{uid:e.product.uid,sku:e.product.sku,name:e.product.name,templateId:e.product.template_id,templateName:e.product.template_name,priceRange:{maximumPrice:{regularPrice:{value:e.product.price_range.maximum_price.regular_price.value}}}},quantity:e.quantity}))}}function g(t){if(!t||!t.data||!t.data.requestNegotiableQuote)return null;const a=t.data.requestNegotiableQuote.quote;return s(a)}function _(t){var e;if(!t)return null;const a={items:((e=t.items)==null?void 0:e.filter(r=>r==null?void 0:r.uid).map(s))||[],pageInfo:{currentPage:t.page_info.current_page,pageSize:t.page_info.page_size,totalPages:t.page_info.total_pages},totalCount:t.total_count,sortFields:t.sort_fields?{default:t.sort_fields.default,options:t.sort_fields.options}:void 0},n=o(a);return{...a,paginationInfo:n||void 0}}function o(t){if(!(t!=null&&t.pageInfo)||!t.totalCount)return null;const{currentPage:a,pageSize:n,totalPages:e}=t.pageInfo,{totalCount:r}=t,i=r>0?(a-1)*n+1:0,l=Math.min(a*n,r);return{currentPage:a,totalCount:r,pageSize:n,startItem:i,endItem:l,totalPages:e,pageSizeOptions:[20,30,50,100,200]}}const m=()=>[20,30,50,100,200];export{u as D,_ as a,m as g,p as s,g as t};
//# sourceMappingURL=transform-quote.js.map
