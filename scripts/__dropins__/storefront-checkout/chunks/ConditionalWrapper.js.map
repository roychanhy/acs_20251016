{"version":3,"file":"ConditionalWrapper.js","sources":["/@dropins/storefront-checkout/src/lib/events.ts","/@dropins/storefront-checkout/src/components/ConditionalWrapper/ConditionalWrapper.tsx"],"sourcesContent":["/********************************************************************\n * ADOBE CONFIDENTIAL\n * __________________\n *\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\n\nimport { Cart as DataModel } from '@/checkout/data/models';\nimport { events } from '@adobe-commerce/event-bus';\n\nexport function getInitialCheckoutData(): DataModel | null {\n  return events.lastPayload('checkout/initialized') ?? null;\n}\n\nexport function getLatestCheckoutUpdate(): DataModel | null {\n  return events.lastPayload('checkout/updated') ?? null;\n}\n\nexport function getCheckoutData(): DataModel | null {\nreturn getLatestCheckoutUpdate() ?? getInitialCheckoutData();\n}\n\nexport function hasShippingAddress(): boolean {\n  const cart = getCheckoutData();\n  return !!cart?.shippingAddresses?.length;\n}\n\nexport function isVirtualCart(): boolean {\n  const cart = getCheckoutData();\n  return Boolean(cart?.isVirtual);\n}\n\nexport function getCartEmail(): string | null {\n  const cart = getCheckoutData();\n  return cart?.email ?? null;\n}\n","/********************************************************************\n * ADOBE CONFIDENTIAL\n * __________________\n *\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\n\nimport { FunctionComponent } from 'preact';\n\nexport interface ConditionalProps {\n  initialized?: boolean;\n  visible?: boolean;\n}\n\nexport function WithConditionals<P extends object>(\n  Component: FunctionComponent<P>,\n  Skeleton: FunctionComponent\n): FunctionComponent<P & ConditionalProps> {\n  return function ConditionalWrapper(props: P & ConditionalProps) {\n    const { initialized = true, visible = true, ...componentProps } = props;\n\n    return (\n      <div className=\"conditional-wrapper\">\n        {visible && !initialized && <Skeleton />}\n        {visible && initialized && <Component {...(componentProps as P)} />}\n      </div>\n    );\n  };\n}\n"],"names":["getInitialCheckoutData","events","getLatestCheckoutUpdate","getCheckoutData","hasShippingAddress","cart","_a","isVirtualCart","getCartEmail","WithConditionals","Component","Skeleton","props","initialized","visible","componentProps","jsxs","jsx"],"mappings":"0HAoBO,SAASA,GAA2C,CAClD,OAAAC,EAAO,YAAY,sBAAsB,GAAK,IACvD,CAEO,SAASC,GAA4C,CACnD,OAAAD,EAAO,YAAY,kBAAkB,GAAK,IACnD,CAEO,SAASE,GAAoC,CAC7C,OAAAD,KAA6BF,EAAuB,CAC3D,CAEO,SAASI,GAA8B,OAC5C,MAAMC,EAAOF,EAAgB,EACtB,MAAA,CAAC,GAACG,EAAAD,GAAA,YAAAA,EAAM,oBAAN,MAAAC,EAAyB,OACpC,CAEO,SAASC,GAAyB,CACvC,MAAMF,EAAOF,EAAgB,EACtB,MAAA,GAAQE,GAAA,MAAAA,EAAM,UACvB,CAEO,SAASG,GAA8B,CAC5C,MAAMH,EAAOF,EAAgB,EAC7B,OAAOE,GAAA,YAAAA,EAAM,QAAS,IACxB,CCrBgB,SAAAI,EACdC,EACAC,EACyC,CAClC,OAAA,SAA4BC,EAA6B,CAC9D,KAAM,CAAE,YAAAC,EAAc,GAAM,QAAAC,EAAU,GAAM,GAAGC,GAAmBH,EAGhE,OAAAI,EAAC,MAAI,CAAA,UAAU,sBACZ,SAAA,CAAWF,GAAA,CAACD,GAAeI,EAACN,EAAS,CAAA,CAAA,EACrCG,GAAWD,GAAgBI,EAAAP,EAAA,CAAW,GAAIK,CAAsB,CAAA,CAAA,EACnE,CAEJ,CACF"}