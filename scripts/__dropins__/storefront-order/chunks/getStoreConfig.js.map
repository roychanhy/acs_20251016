{"version":3,"file":"getStoreConfig.js","sources":["/@dropins/storefront-order/src/data/transforms/transform-store-config.ts","/@dropins/storefront-order/src/api/getStoreConfig/graphql/StoreConfigQuery.ts","/@dropins/storefront-order/src/api/getStoreConfig/getStoreConfig.ts"],"sourcesContent":["/********************************************************************\n * ADOBE CONFIDENTIAL\n *\n *  Copyright 2024 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\n\nimport { StoreConfigModel } from '@/order/data/models';\n\nexport function transformStoreConfig(data: any): StoreConfigModel | null {\n  if (!data) return null;\n\n  return {\n    baseMediaUrl: data.base_media_url,\n    orderCancellationEnabled: data.order_cancellation_enabled,\n    orderCancellationReasons: data.order_cancellation_reasons,\n    shoppingOrderDisplayPrice: data.orders_invoices_credit_memos_display_price,\n    shoppingOrdersDisplaySubtotal:\n      data.orders_invoices_credit_memos_display_subtotal,\n    shoppingOrdersDisplayShipping:\n      data.orders_invoices_credit_memos_display_shipping_amount,\n    shoppingOrdersDisplayGrandTotal:\n      data.orders_invoices_credit_memos_display_grandtotal,\n    shoppingOrdersDisplayFullSummary:\n      data.orders_invoices_credit_memos_display_full_summary,\n    shoppingOrdersDisplayZeroTax:\n      data.orders_invoices_credit_memos_display_zero_tax,\n    salesPrintedCard: +data.sales_printed_card,\n    salesGiftWrapping: +data.sales_gift_wrapping,\n  };\n}\n","/********************************************************************\n * ADOBE CONFIDENTIAL\n *\n *  Copyright 2024 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\n\nexport const STORE_CONFIG_QUERY = /* GraphQL */ `\n  query STORE_CONFIG_QUERY {\n    storeConfig {\n      order_cancellation_enabled\n      order_cancellation_reasons {\n        description\n      }\n      base_media_url\n      orders_invoices_credit_memos_display_price\n      orders_invoices_credit_memos_display_shipping_amount\n      orders_invoices_credit_memos_display_subtotal\n      orders_invoices_credit_memos_display_grandtotal\n      orders_invoices_credit_memos_display_full_summary\n      orders_invoices_credit_memos_display_zero_tax\n      sales_printed_card\n      sales_gift_wrapping\n    }\n  }\n`;\n","/********************************************************************\n * ADOBE CONFIDENTIAL\n *\n *  Copyright 2024 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\n\nimport { fetchGraphQl } from '@/order/api';\nimport { StoreConfigModel } from '@/order/data/models';\nimport { transformStoreConfig } from '@/order/data/transforms';\nimport { handleFetchError } from '@/order/lib/fetch-error';\n\nimport { STORE_CONFIG_QUERY } from './graphql/StoreConfigQuery';\n\nexport const getStoreConfig = async (): Promise<StoreConfigModel | null> => {\n  return fetchGraphQl(STORE_CONFIG_QUERY, {\n    method: 'GET',\n    cache: 'force-cache',\n  }).then(({ errors, data }) => {\n    if (errors) return handleFetchError(errors);\n\n    return transformStoreConfig(data.storeConfig);\n  });\n};\n"],"names":["transformStoreConfig","data","STORE_CONFIG_QUERY","getStoreConfig","fetchGraphQl","errors","handleFetchError"],"mappings":"8CAkBO,SAASA,EAAqBC,EAAoC,CACnE,OAACA,EAEE,CACL,aAAcA,EAAK,eACnB,yBAA0BA,EAAK,2BAC/B,yBAA0BA,EAAK,2BAC/B,0BAA2BA,EAAK,2CAChC,8BACEA,EAAK,8CACP,8BACEA,EAAK,qDACP,gCACEA,EAAK,gDACP,iCACEA,EAAK,kDACP,6BACEA,EAAK,8CACP,iBAAkB,CAACA,EAAK,mBACxB,kBAAmB,CAACA,EAAK,mBAC3B,EAnBkB,IAoBpB,CCvBa,MAAAC,EAAmC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,ECOnCC,EAAiB,SACrBC,EAAaF,EAAoB,CACtC,OAAQ,MACR,MAAO,aACR,CAAA,EAAE,KAAK,CAAC,CAAE,OAAAG,EAAQ,KAAAJ,KACbI,EAAeC,EAAiBD,CAAM,EAEnCL,EAAqBC,EAAK,WAAW,CAC7C"}