{"version":3,"file":"network-error.js","sources":["/@dropins/storefront-order/src/lib/network-error.ts"],"sourcesContent":["/********************************************************************\n * ADOBE CONFIDENTIAL\n *\n *  Copyright 2024 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\n\nimport { events } from '@adobe-commerce/event-bus';\n\n/**\n * A function which can be attached to fetchGraphQL to handle thrown errors in\n * a generic way.\n */\nexport const handleNetworkError = (error: Error) => {\n  const isAbortError =\n    error instanceof DOMException && error.name === 'AbortError';\n\n  const isPlaceOrderError = error.name === 'PlaceOrderError';\n\n  if (!isAbortError && !isPlaceOrderError) {\n    events.emit('order/error', {\n      source: 'auth',\n      type: 'network',\n      error: error.message,\n    });\n  }\n  throw error;\n};\n"],"names":["handleNetworkError","error","isAbortError","isPlaceOrderError","events"],"mappings":"qDAsBa,MAAAA,EAAsBC,GAAiB,CAClD,MAAMC,EACJD,aAAiB,cAAgBA,EAAM,OAAS,aAE5CE,EAAoBF,EAAM,OAAS,kBAErC,KAAA,CAACC,GAAgB,CAACC,GACpBC,EAAO,KAAK,cAAe,CACzB,OAAQ,OACR,KAAM,UACN,MAAOH,EAAM,OAAA,CACd,EAEGA,CACR"}