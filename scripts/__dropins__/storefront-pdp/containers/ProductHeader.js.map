{"version":3,"file":"ProductHeader.js","sources":["/@dropins/storefront-pdp/src/components/Header/Header.tsx","/@dropins/storefront-pdp/src/containers/ProductHeader/ProductHeader.tsx"],"sourcesContent":["/**\n * ADOBE CONFIDENTIAL\n * __________________\n * Copyright 2024 Adobe\n * All Rights Reserved.\n * __________________\n * NOTICE: All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n */\n\nimport { FunctionComponent, VNode } from 'preact';\nimport { HTMLAttributes } from 'preact/compat';\nimport { classes, VComponent } from '@adobe-commerce/elsie/lib';\nimport '@/pdp/components/Header/Header.css';\n\nexport interface HeaderProps\n  extends Omit<HTMLAttributes<HTMLDivElement>, 'title'> {\n  title: VNode;\n  sku: VNode;\n  hideSku?: boolean;\n}\n\nexport const Header: FunctionComponent<HeaderProps> = ({\n  className,\n  title,\n  sku,\n  hideSku = false,\n  children,\n  ...props\n}) => {\n  return (\n    <div {...props} className={classes(['pdp-header', className])}>\n      <div className=\"pdp-header__title\">\n        <VComponent node={title} />\n      </div>\n      {!hideSku && (\n        <div className=\"pdp-header__sku\">\n          <VComponent node={sku} />\n        </div>\n      )}\n    </div>\n  );\n};\n","/**\n * ADOBE CONFIDENTIAL\n * __________________\n * Copyright 2024 Adobe\n * All Rights Reserved.\n * __________________\n * NOTICE: All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n */\n\nimport { HTMLAttributes, useEffect, useState } from 'preact/compat';\nimport { Container } from '@adobe-commerce/elsie/lib';\nimport { Header } from '@/pdp/components';\nimport { events } from '@adobe-commerce/event-bus';\nimport { ProductModel } from '@/pdp/data/models';\nimport { getFetchedProductData } from '@/pdp/api';\n\nexport interface ProductHeaderProps extends HTMLAttributes<HTMLDivElement> {\n  scope?: string;\n  hideSku?: boolean;\n}\n\nexport const ProductHeader: Container<\n  ProductHeaderProps,\n  ProductModel | null\n> = ({ initialData = null, scope, hideSku = false, children, ...props }) => {\n  const [data, setData] = useState<ProductModel | null>(initialData);\n\n  useEffect(() => {\n    const dataEvent = events.on('pdp/data', setData, { scope });\n\n    return () => {\n      dataEvent?.off();\n    };\n  }, [scope]);\n\n  if (!data) return null;\n\n  return (\n    <Header\n      {...props}\n      title={<>{data.name}</>}\n      sku={<>{data.sku}</>}\n      hideSku={hideSku}\n    />\n  );\n};\n\nProductHeader.getInitialData = getFetchedProductData;\n"],"names":["Header","className","title","sku","hideSku","children","props","jsxs","classes","jsx","VComponent","ProductHeader","initialData","scope","data","setData","useState","useEffect","dataEvent","events","Fragment","getFetchedProductData"],"mappings":"qaA4BO,MAAMA,EAAyC,CAAC,CACrD,UAAAC,EACA,MAAAC,EACA,IAAAC,EACA,QAAAC,EAAU,GACV,SAAAC,EACA,GAAGC,CACL,IAEIC,EAAC,MAAK,CAAA,GAAGD,EAAO,UAAWE,EAAQ,CAAC,aAAcP,CAAS,CAAC,EAC1D,SAAA,CAAAQ,EAAC,OAAI,UAAU,oBACb,WAACC,EAAW,CAAA,KAAMR,EAAO,CAC3B,CAAA,EACC,CAACE,GACAK,EAAC,MAAI,CAAA,UAAU,kBACb,SAACA,EAAAC,EAAA,CAAW,KAAMP,CAAK,CAAA,CACzB,CAAA,CAAA,EAEJ,EClBSQ,EAGT,CAAC,CAAE,YAAAC,EAAc,KAAM,MAAAC,EAAO,QAAAT,EAAU,GAAO,SAAAC,EAAU,GAAGC,KAAY,CAC1E,KAAM,CAACQ,EAAMC,CAAO,EAAIC,EAA8BJ,CAAW,EAU7D,OARJK,EAAU,IAAM,CACd,MAAMC,EAAYC,EAAO,GAAG,WAAYJ,EAAS,CAAE,MAAAF,EAAO,EAE1D,MAAO,IAAM,CACXK,GAAA,MAAAA,EAAW,KACb,CAAA,EACC,CAACL,CAAK,CAAC,EAELC,EAGHL,EAACT,EAAA,CACE,GAAGM,EACJ,MAAUG,EAAAW,EAAA,CAAA,SAAAN,EAAK,KAAK,EACpB,IAAQL,EAAAW,EAAA,CAAA,SAAAN,EAAK,IAAI,EACjB,QAAAV,CAAA,CACF,EARgB,IAUpB,EAEAO,EAAc,eAAiBU"}