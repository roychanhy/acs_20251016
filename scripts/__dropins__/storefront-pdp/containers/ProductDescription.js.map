{"version":3,"file":"ProductDescription.js","sources":["/@dropins/storefront-pdp/src/containers/ProductDescription/ProductDescription.tsx"],"sourcesContent":["/**\n * ADOBE CONFIDENTIAL\n * __________________\n * Copyright 2024 Adobe\n * All Rights Reserved.\n * __________________\n * NOTICE: All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n */\n\nimport { HTMLAttributes, useEffect, useState } from 'preact/compat';\nimport { classes, Container } from '@adobe-commerce/elsie/lib';\nimport { events } from '@adobe-commerce/event-bus';\nimport { ProductModel } from '@/pdp/data/models';\nimport { getFetchedProductData } from '@/pdp/api';\n\nexport interface ProductDescriptionProps\n  extends HTMLAttributes<HTMLDivElement> {\n  scope?: string;\n}\n\nexport const ProductDescription: Container<\n  ProductDescriptionProps,\n  ProductModel | null\n> = ({ initialData = null, scope, children, ...props }) => {\n  const [data, setData] = useState<ProductModel | null>(initialData);\n\n  useEffect(() => {\n    const dataEvent = events.on('pdp/data', setData, { scope });\n\n    return () => {\n      dataEvent?.off();\n    };\n  }, [scope]);\n\n  if (!data) return null;\n\n  return (\n    <div\n      // eslint-disable-next-line react/no-danger\n      dangerouslySetInnerHTML={{ __html: data?.description ?? '' }}\n      {...props}\n      className={classes(['pdp-description', props.className])}\n    />\n  );\n};\n\nProductDescription.getInitialData = getFetchedProductData;\n"],"names":["ProductDescription","initialData","scope","children","props","data","setData","useState","useEffect","dataEvent","events","jsx","classes","getFetchedProductData"],"mappings":"iSA2Ba,MAAAA,EAGT,CAAC,CAAE,YAAAC,EAAc,KAAM,MAAAC,EAAO,SAAAC,EAAU,GAAGC,KAAY,CACzD,KAAM,CAACC,EAAMC,CAAO,EAAIC,EAA8BN,CAAW,EAU7D,OARJO,EAAU,IAAM,CACd,MAAMC,EAAYC,EAAO,GAAG,WAAYJ,EAAS,CAAE,MAAAJ,EAAO,EAE1D,MAAO,IAAM,CACXO,GAAA,MAAAA,EAAW,KACb,CAAA,EACC,CAACP,CAAK,CAAC,EAELG,EAGHM,EAAC,MAAA,CAEC,wBAAyB,CAAE,QAAQN,GAAA,YAAAA,EAAM,cAAe,EAAG,EAC1D,GAAGD,EACJ,UAAWQ,EAAQ,CAAC,kBAAmBR,EAAM,SAAS,CAAC,CAAA,CACzD,EARgB,IAUpB,EAEAJ,EAAmB,eAAiBa"}